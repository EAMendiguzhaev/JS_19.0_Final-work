(()=>{"use strict";function e(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){i=!0,c=e},f:function(){try{l||null==r.return||r.return()}finally{if(i)throw c}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var n,r,o,a,c,l,i,s,u,d,v,f,y,m,p,h,g;n=document.querySelector(".top-menu__items").querySelectorAll("a"),r=document.querySelector(".up"),n.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("href").substr(1);document.getElementById(n).scrollIntoView({behavior:"smooth"})}))})),window.addEventListener("scroll",(function(){pageYOffset>=1300?r.style.display="block":r.style.display="none"})),r.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),o=document.querySelectorAll(".button-callback"),a=document.querySelector(".modal-callback"),c=document.querySelector(".modal-overlay"),l=document.querySelector("#form-callback").querySelectorAll("input"),i=function(){var e,t,n,r,o;t=(e={duration:400,timing:function(e){return e},draw:function(e){var t=150*e-200;a.style.transform="translate(".concat(t,"%)")}}).duration,n=e.draw,r=e.timing,o=performance.now(),requestAnimationFrame((function e(a){var c=(a-o)/t;c>1&&(c=1);var l=r(c);n(l),c<1&&requestAnimationFrame(e)}))},o.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),e.target&&(a.style.display="block",c.style.display="block",i())}))})),document.addEventListener("click",(function(e){var t=e.target;(t.classList.contains("modal-close")||t.classList.contains("modal-overlay"))&&(a.style.display="none",c.style.display="none",l.forEach((function(e){e.value="",e.style.border="2px solid #e3e3e4"})))})),s=document.querySelector("#top-slider__wrapper"),u=document.querySelectorAll(".top-slider__list"),d=document.querySelectorAll(".dot"),v=0,f=null,y=function(e,t,n){e[t].classList.remove(n)},m=function(e,t,n){e[t].classList.add(n)},p=function(){y(u,v,"top-slider__list--active"),y(d,v,"dot-active"),++v>=u.length&&(v=0),m(u,v,"top-slider__list--active"),m(d,v,"dot-active")},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;f=setInterval(p,e)},s.addEventListener("click",(function(e){var t=e.target;t.matches(".top-slider__list, .dot")&&(y(u,v,"top-slider__list--active"),y(d,v,"dot-active"),t.matches(".dot")&&d.forEach((function(e,n){e===t&&(v=n)})),m(u,v,"top-slider__list--active"),m(d,v,"dot-active"))})),s.addEventListener("mouseover",(function(e){e.target.matches(".dot")&&clearInterval(f)})),s.addEventListener("mouseout",(function(e){e.target.matches(".dot")&&h(3e3)})),h(),function(){var e,t=document.querySelector(".services-elements"),n=document.querySelector(".services-carousel"),r=document.querySelectorAll(".services__item"),o=document.querySelector(".arrow-left"),a=document.querySelector(".arrow-right"),c=1,l=3,i=1,s=.3,u=0,d=document.documentElement.clientWidth;e=d>576?l:c;var v=r.length,f=t.clientWidth/e,y=1*f;r.forEach((function(e){e.style.minWidth="".concat(f,"px")})),o.addEventListener("click",(function(){var e=Math.abs(u)/f;u+=e>=1?y:e*f,m(),p()})),a.addEventListener("click",(function(){var t=v-(Math.abs(u)+e*f)/f;u-=t>=1?y:t*f,m(),p()}));var m=function(){n.style.transform="translateX(".concat(u,"px)")},p=function(){0===u?(o.disabled=!0,o.style.opacity="0.3"):(o.disabled=!1,o.style.opacity="1"),u<=-(v-e)*f?(a.disabled=!0,a.style.opacity=s):(a.disabled=!1,a.style.opacity=i)};p()}(),function(){for(var e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),n=e.querySelectorAll(".element-content"),r=function(e){t[e].addEventListener("click",(function(){t[e].classList.contains("active")?(t[e].classList.remove("active"),n[e].style.display="block"):(t.forEach((function(e){e.classList.remove("active")})),n.forEach((function(e){e.style.display="none"})),t[e].classList.add("active"),n[e].style.display="block")}))},o=0;o<t.length;o++)r(o)}(),function(){var e=document.querySelector("#form-callback"),t=e.querySelectorAll("input"),n=e.querySelector(".feedback"),r=document.createElement("div");r.style.cssText="font-size: 2rem;\n                                   color: black;",e.addEventListener("submit",(function(o){o.preventDefault(),n.disabled=!0,e.append(r),e.insertAdjacentHTML("beforeend",'<div class="sk-rotating-plane"></div>');var a,c=document.querySelector(".sk-rotating-plane");r.textContent=void(c.style.display="block"),(a=new FormData(e),fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:a,credentials:"include"})).then((function(e){if(200!==e.status)throw new Error("Status Network not 200");c.style.display="none",r.style.textAlign="center",r.textContent="Спасибо! Мы скоро свяжемся с Вами!",n.disabled=!1})).catch((function(e){c.style.display="none",r.style.textAlign="center",r.textContent="Что-то пошло не так...",console.error(e)})),t.forEach((function(e){e.value="",e.style.border="2px solid #e3e3e4"}))}))}(),document.body.addEventListener("input",(function(t){var n=t.target;"fio"===n.name&&(n.value=n.value.replace(/[^а-яА-ЯёЁ-\s]/g,"")),"tel"===n.name&&(n.setAttribute("type","text"),function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",o=document.querySelectorAll(t),a=function(e){var t=e.keyCode,n=r,o=n.replace(/\D/g,""),a=this.value.replace(/\D/g,""),c=0,l=n.replace(/[_\d]/g,(function(e){return c<a.length?a.charAt(c++)||o.charAt(c):e}));-1!=(c=l.indexOf("_"))&&(l=l.slice(0,c));var i=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(i=new RegExp("^"+i+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=l),"blur"===e.type&&this.value.length<5&&(this.value="")},c=e(o);try{for(c.s();!(n=c.n()).done;){var l=n.value;l.addEventListener("input",a),l.addEventListener("focus",a),l.addEventListener("blur",a)}}catch(e){c.e(e)}finally{c.f()}}(".tel"))})),g={correctName:!0,correctTel:!0},document.body.addEventListener("change",(function(e){var t=e.target,n=function(e){var n=t.closest("#form-callback");if(n){var r=n.querySelector(".feedback");t.style.border=e?"2px solid #fe193f":"2px solid #19fe52",Object.values(g).every((function(e){return e}))?r.disabled=!1:r.disabled=!0}};if("fio"===t.name||"tel"===t.name){var r=[/\s+/gm,/-+/gm,/,+/gm,/;+/gm,/:+/gm,/\.+/gm];[" ","-",",",";",":","."].forEach((function(e,n){t.value=t.value.replace(r[n],e)}))," "===t.value?(t.value="",g.correctMess=!1,n(!0)):(g.correctMess=!0,n(!1))}if("fio"===t.name){t.value=t.value.replace(/\s+/g," ");var o=t.value.trim().split(" "),a="";o.forEach((function(e){a+="".concat(e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())}))," "===a?(t.value="",g.correctName=!1,n(!0)):a.length<3?(t.value=a,g.correctName=!1,n(!0)):(t.value=a,g.correctName=!0,n(!1))}"tel"===e.target.name&&(e.target.value=e.target.value.replace(/^\+\d{1}\s/g,"+7 "),e.target.value.replace(/[\s\+\(\)-]*/g,"").length<11?(g.correctTel=!1,n(!0)):(g.correctTel=!0,n(!1)))}))})();