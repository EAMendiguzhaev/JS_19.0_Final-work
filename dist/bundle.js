(()=>{"use strict";function e(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0,l=function(){};return{s:l,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,c=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw c}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var n,r,o,l,c,a,i,s,u,d,f,v,m,y,p,h,g,b,E,S;n=document.querySelector(".top-menu__items").querySelectorAll("a"),r=document.querySelector(".up"),n.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("href").substr(1);document.getElementById(n).scrollIntoView({behavior:"smooth"})}))})),window.addEventListener("scroll",(function(){pageYOffset>=600?r.style.display="block":r.style.display="none"})),r.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),o=document.querySelectorAll(".button-callback"),l=document.querySelector(".modal-callback"),c=document.querySelector(".modal-overlay"),a=document.querySelector(".mobile-menu"),i=document.querySelector(".mob-menu-btn"),s=document.querySelector("#form-callback").querySelectorAll("input"),u=document.documentElement.clientWidth,d=function(){var e,t,n,r,o;t=(e={duration:400,timing:function(e){return e},draw:function(e){var t=150*e-200;l.style.transform="translate(".concat(t,"%)")}}).duration,n=e.draw,r=e.timing,o=performance.now(),requestAnimationFrame((function e(l){var c=(l-o)/t;c>1&&(c=1);var a=r(c);n(a),c<1&&requestAnimationFrame(e)}))},o.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),e.target&&(l.style.display="block",c.style.display="block",u>768&&d())}))})),document.addEventListener("click",(function(e){var t=e.target;(t.classList.contains("modal-close")||t.classList.contains("modal-overlay"))&&(l.style.display="none",c.style.display="none",s.forEach((function(e){e.value="",e.style.border="2px solid #e3e3e4"})))})),i.addEventListener("click",(function(){a.style.cssText="top: 35px;\n                                right: -10px;    \n    "})),a.addEventListener("click",(function(e){if(e.target.classList.contains("mobile-menu-close"))a.style.cssText="top: 35px;\n                                right: -400px;\n      ";else if(e.target.classList.contains("mobile-price")){e.preventDefault();var t=e.target.getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth"}),a.style.cssText="top: 35px;\n                                right: -400px;\n      "}else e.target.classList.contains("callback-btn")&&(l.style.display="block",c.style.display="block",a.style.cssText="top: 35px;\n                                right: -400px;\n      ")})),f=document.querySelector("#top-slider__wrapper"),v=document.querySelectorAll(".top-slider__list"),m=document.querySelectorAll(".dot"),y=0,p=null,h=function(e,t,n){e[t].classList.remove(n)},g=function(e,t,n){e[t].classList.add(n)},b=function(){h(v,y,"top-slider__list--active"),h(m,y,"dot-active"),++y>=v.length&&(y=0),g(v,y,"top-slider__list--active"),g(m,y,"dot-active")},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;p=setInterval(b,e)},f.addEventListener("click",(function(e){var t=e.target;t.matches(".top-slider__list, .dot")&&(h(v,y,"top-slider__list--active"),h(m,y,"dot-active"),t.matches(".dot")&&m.forEach((function(e,n){e===t&&(y=n)})),g(v,y,"top-slider__list--active"),g(m,y,"dot-active"))})),f.addEventListener("mouseover",(function(e){e.target.matches(".dot")&&clearInterval(p)})),f.addEventListener("mouseout",(function(e){e.target.matches(".dot")&&E(3e3)})),E(),function(){var e,t=document.querySelector(".services-elements"),n=document.querySelector(".services-carousel"),r=document.querySelectorAll(".services__item"),o=document.querySelector(".arrow-left"),l=document.querySelector(".arrow-right"),c=1,a=3,i=0,s=document.documentElement.clientWidth;e=s>576?a:c;var u=r.length,d=t.clientWidth/e,f=1*d;r.forEach((function(e){e.style.minWidth="".concat(d,"px")})),l.addEventListener("click",(function(){var t=u-(Math.abs(i)+e*d)/d;i-=t>=1?f:t*d,(s>576&&0===t||s<576&&0===t)&&(i=0),v()})),o.addEventListener("click",(function(){var t=Math.abs(i)/d;i+=t>=1?f:t*d,(s>576&&i>=t||s<576&&i>=t)&&(i=-d*(u-(Math.abs(i)+e*d)/d)),v()}));var v=function(){n.style.transform="translateX(".concat(i,"px)")}}(),function(){for(var e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),n=e.querySelectorAll(".element-content"),r=function(e){t[e].addEventListener("click",(function(){t[e].classList.contains("active")?(t[e].classList.remove("active"),n[e].style.display="block"):(t.forEach((function(e){e.classList.remove("active")})),n.forEach((function(e){e.style.display="none"})),t[e].classList.add("active"),n[e].style.display="block")}))},o=0;o<t.length;o++)r(o)}(),function(){var e=document.querySelector("#form-callback"),t=e.querySelectorAll("input"),n=e.querySelector(".feedback"),r=document.querySelector(".modal-callback"),o=document.querySelector(".modal-overlay"),l=document.createElement("div");l.style.cssText="font-size: 2rem;\n                                   color: black;",e.addEventListener("submit",(function(c){c.preventDefault(),n.disabled=!0,e.append(l),e.insertAdjacentHTML("beforeend",'<div class="sk-rotating-plane"></div>');var a=document.querySelector(".sk-rotating-plane");l.textContent=void(a.style.display="block");var i=new FormData(e);(function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})})(i=Object.fromEntries(i)).then((function(e){if(200!==e.status)throw new Error("Status Network not 200");a.style.display="none",l.style.textAlign="center",l.textContent="Спасибо! Мы скоро свяжемся с Вами!",n.disabled=!1,setTimeout((function(){r.style.display="none",o.style.display="none",l.textContent=""}),1500)})).catch((function(e){a.style.display="none",l.style.textAlign="center",l.textContent="Что-то пошло не так...",console.error(e),setTimeout((function(){r.style.display="none",o.style.display="none",l.textContent=""}),1500)})),t.forEach((function(e){e.value="",e.style.border="2px solid #e3e3e4"}))}))}(),document.body.addEventListener("input",(function(t){var n=t.target;"fio"===n.name&&(n.value=n.value.replace(/[^а-яА-ЯёЁ-\s]/g,"")),"tel"===n.name&&(n.setAttribute("type","text"),function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",o=document.querySelectorAll(t),l=function(e){var t=e.keyCode,n=r,o=n.replace(/\D/g,""),l=this.value.replace(/\D/g,""),c=0,a=n.replace(/[_\d]/g,(function(e){return c<l.length?l.charAt(c++)||o.charAt(c):e}));-1!=(c=a.indexOf("_"))&&(a=a.slice(0,c));var i=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(i=new RegExp("^"+i+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=a),"blur"===e.type&&this.value.length<5&&(this.value="")},c=e(o);try{for(c.s();!(n=c.n()).done;){var a=n.value;a.addEventListener("input",l),a.addEventListener("focus",l),a.addEventListener("blur",l)}}catch(e){c.e(e)}finally{c.f()}}(".tel"))})),S={correctName:!0,correctTel:!0},document.body.addEventListener("change",(function(e){var t=e.target,n=function(e){var n=t.closest("#form-callback");if(n){var r=n.querySelector(".feedback");t.style.border=e?"2px solid #fe193f":"2px solid #19fe52",Object.values(S).every((function(e){return e}))?r.disabled=!1:r.disabled=!0}};if("fio"===t.name||"tel"===t.name){var r=[/\s+/gm,/-+/gm,/,+/gm,/;+/gm,/:+/gm,/\.+/gm];[" ","-",",",";",":","."].forEach((function(e,n){t.value=t.value.replace(r[n],e)}))," "===t.value?(t.value="",S.correctMess=!1,n(!0)):(S.correctMess=!0,n(!1))}if("fio"===t.name){t.value=t.value.replace(/\s+/g," ");var o=t.value.trim().split(" "),l="";o.forEach((function(e){l+="".concat(e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())}))," "===l?(t.value="",S.correctName=!1,n(!0)):l.length<3?(t.value=l,S.correctName=!1,n(!0)):(t.value=l,S.correctName=!0,n(!1))}"tel"===e.target.name&&(e.target.value=e.target.value.replace(/^\+\d{1}\s/g,"+7 "),e.target.value.replace(/[\s\+\(\)-]*/g,"").length<11?(S.correctTel=!1,n(!0)):(S.correctTel=!0,n(!1)))}))})();